{"ast":null,"code":"import React from'react';import{useNavigate}from'react-router-dom';import axios from'axios';import'./UserNavbar.css';import home from'../../images/icon/icons8-home-50.png';import Reservation from'../../images/icon/icons8-today-50.png';import bookmark from'../../images/icon/icons8-bookmark-50.png';import calander from'../../images/icon/icons8-calendar-plus-50.png';import Chat from'../../images/icon/icons8-chat-bubble-50.png';import FAQ from'../../images/icon/icons8-faq-50.png';import setting from'../../images/icon/icons8-settings-50.png';import logout from'../../images/icon/icons8-logout-50.png';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const UserNavbar=()=>{const navigate=useNavigate();// 로그아웃 함수\nconst handleLogout=async()=>{const token=sessionStorage.getItem('accessToken');// 토큰 가져오기\nconst apiUrl='https://port-0-yeoga-backend-m1hgzlk8a26c4004.sel4.cloudtype.app';if(!token){alert('로그인 상태가 아닙니다.');navigate('/');return;}try{const response=await axios.post(\"\".concat(apiUrl,\"/logout\"),// 로그아웃 API 엔드포인트\n{},// 로그아웃 요청에 바디가 필요 없다면 빈 객체를 전달\n{headers:{Authorization:\"Bearer \".concat(token)}});if(response.status===200){// 로그아웃 성공 시 세션 스토리지에서 토큰 제거\nsessionStorage.removeItem('accessToken');sessionStorage.removeItem('username');alert('로그아웃되었습니다.');navigate('/');// 로그인 페이지로 이동\n}}catch(error){console.error('로그아웃 실패:',error);alert('로그아웃에 실패했습니다. 다시 시도해주세요.');}};// 각 메뉴에 대응하는 경로 설정\nconst navItems=[{icon:home,label:'홈',path:'/'},{icon:Reservation,label:'일정',path:'/User/Schedule'},{icon:bookmark,label:'북마크',path:'/bookmark'},{icon:calander,label:'캘린더',path:'/User/Calendars'},{icon:Chat,label:'1:1 AI Chat',path:'/chat'},{icon:FAQ,label:'FAQ',path:'/User/FAQ'},{icon:setting,label:'설정',path:'/User/Setting'},{icon:logout,label:'로그아웃',onClick:handleLogout}// 로그아웃 버튼에 함수 연결\n];return/*#__PURE__*/_jsxs(\"div\",{className:\"User-Navbar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"User-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"profile-pic\"}),/*#__PURE__*/_jsx(\"div\",{className:\"User-name\",children:\"UserName\"})]}),/*#__PURE__*/_jsx(\"ul\",{className:\"nav-items\",children:navItems.map((item,index)=>/*#__PURE__*/_jsx(NavItem,{icon:item.icon,label:item.label,onClick:item.onClick?item.onClick:()=>navigate(item.path)// onClick이 있으면 사용, 없으면 path로 이동\n},index))})]});};// NavItem 컴포넌트: 클릭 이벤트 추가\nconst NavItem=_ref=>{let{icon,label,onClick}=_ref;return/*#__PURE__*/_jsxs(\"li\",{className:\"nav-item\",onClick:onClick,style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"img\",{className:\"icon\",src:icon,alt:label}),/*#__PURE__*/_jsx(\"span\",{children:label})]});};export default UserNavbar;","map":{"version":3,"names":["React","useNavigate","axios","home","Reservation","bookmark","calander","Chat","FAQ","setting","logout","jsx","_jsx","jsxs","_jsxs","UserNavbar","navigate","handleLogout","token","sessionStorage","getItem","apiUrl","alert","response","post","concat","headers","Authorization","status","removeItem","error","console","navItems","icon","label","path","onClick","className","children","map","item","index","NavItem","_ref","style","cursor","src","alt"],"sources":["C:/Users/user/YeoGa_FrontEnd/src/components/UserNavbar/UserNavbar.jsx"],"sourcesContent":["import React from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport './UserNavbar.css';\r\n\r\nimport home from '../../images/icon/icons8-home-50.png';\r\nimport Reservation from '../../images/icon/icons8-today-50.png';\r\nimport bookmark from '../../images/icon/icons8-bookmark-50.png';\r\nimport calander from '../../images/icon/icons8-calendar-plus-50.png';\r\nimport Chat from '../../images/icon/icons8-chat-bubble-50.png';\r\nimport FAQ from '../../images/icon/icons8-faq-50.png';\r\nimport setting from '../../images/icon/icons8-settings-50.png';\r\nimport logout from '../../images/icon/icons8-logout-50.png';\r\n\r\nconst UserNavbar = () => {\r\n  const navigate = useNavigate();\r\n\r\n  // 로그아웃 함수\r\n  const handleLogout = async () => {\r\n    const token = sessionStorage.getItem('accessToken'); // 토큰 가져오기\r\n    const apiUrl = 'https://port-0-yeoga-backend-m1hgzlk8a26c4004.sel4.cloudtype.app';\r\n\r\n    if (!token) {\r\n      alert('로그인 상태가 아닙니다.');\r\n      navigate('/'); \r\n      return;\r\n    }\r\n\r\n    try {\r\n      const response = await axios.post(\r\n        `${apiUrl}/logout`, // 로그아웃 API 엔드포인트\r\n        {}, // 로그아웃 요청에 바디가 필요 없다면 빈 객체를 전달\r\n        {\r\n          headers: {\r\n            Authorization: `Bearer ${token}`\r\n          }\r\n        }\r\n      );\r\n\r\n      if (response.status === 200) {\r\n        // 로그아웃 성공 시 세션 스토리지에서 토큰 제거\r\n        sessionStorage.removeItem('accessToken');\r\n        sessionStorage.removeItem('username');\r\n        alert('로그아웃되었습니다.');\r\n        navigate('/'); // 로그인 페이지로 이동\r\n      }\r\n    } catch (error) {\r\n      console.error('로그아웃 실패:', error);\r\n      alert('로그아웃에 실패했습니다. 다시 시도해주세요.');\r\n    }\r\n  };\r\n\r\n  // 각 메뉴에 대응하는 경로 설정\r\n  const navItems = [\r\n    { icon: home, label: '홈', path: '/' },\r\n    { icon: Reservation, label: '일정', path: '/User/Schedule' },\r\n    { icon: bookmark, label: '북마크', path: '/bookmark' },\r\n    { icon: calander, label: '캘린더', path: '/User/Calendars' },\r\n    { icon: Chat, label: '1:1 AI Chat', path: '/chat' },\r\n    { icon: FAQ, label: 'FAQ', path: '/User/FAQ' },\r\n    { icon: setting, label: '설정', path: '/User/Setting' },\r\n    { icon: logout, label: '로그아웃', onClick: handleLogout }, // 로그아웃 버튼에 함수 연결\r\n  ];\r\n\r\n  return (\r\n    <div className=\"User-Navbar\">\r\n      <div className=\"User-section\">\r\n        <div className=\"profile-pic\"></div>\r\n        <div className=\"User-name\">UserName</div>\r\n      </div>\r\n      <ul className=\"nav-items\">\r\n        {navItems.map((item, index) => (\r\n          <NavItem\r\n            key={index}\r\n            icon={item.icon}\r\n            label={item.label}\r\n            onClick={item.onClick ? item.onClick : () => navigate(item.path)} // onClick이 있으면 사용, 없으면 path로 이동\r\n          />\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\n// NavItem 컴포넌트: 클릭 이벤트 추가\r\nconst NavItem = ({ icon, label, onClick }) => {\r\n  return (\r\n    <li className=\"nav-item\" onClick={onClick} style={{ cursor: 'pointer' }}>\r\n      <img className=\"icon\" src={icon} alt={label} />\r\n      <span>{label}</span>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default UserNavbar;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}