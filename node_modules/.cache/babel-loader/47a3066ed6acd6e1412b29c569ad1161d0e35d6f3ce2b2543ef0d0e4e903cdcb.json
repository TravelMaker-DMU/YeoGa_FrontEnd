{"ast":null,"code":"import React,{useState,useEffect}from'react';import api from'../../api';// 전역 설정된 axios 인스턴스 import\nimport UserNavbar from\"../../components/UserNavbar/UserNavbar\";import'../Setting/Setting.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Setting=()=>{const[userInfo,setUserInfo]=useState({name:'',email:'',tel:'',birthday:'',username:'',password:''});const[error,setError]=useState('');useEffect(()=>{const fetchUserInfo=async()=>{try{const username=sessionStorage.getItem('username');if(!username){setError('로그인 정보가 없습니다. 다시 로그인 해주세요.');return;}// 전역 설정된 api 인스턴스를 사용해 사용자 정보 가져오기\nconst response=await api.get(\"/my/\".concat(username));console.log(response.data);setUserInfo(response.data);}catch(error){console.error('사용자 정보를 가져오는 데 실패했습니다:',error);setError('사용자 정보를 가져오는 데 실패했습니다.');}};fetchUserInfo();},[]);const handleChange=e=>{const{name,value}=e.target;setUserInfo(prevState=>({...prevState,[name]:value}));};if(error){return/*#__PURE__*/_jsx(\"div\",{children:error});}if(!userInfo){return/*#__PURE__*/_jsx(\"div\",{children:\"\\uB85C\\uB529 \\uC911...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page\",children:[/*#__PURE__*/_jsx(UserNavbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"Setting-page-container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page-container-section\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Setting-page-container-User-img\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Setting-page-container-User-imgchange\",children:\"\\uD504\\uB85C\\uD544 \\uBCC0\\uACBD\\uD558\\uAE30\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Setting-page-User\",children:\"\\uC0AC\\uC6A9\\uC790 \\uC815\\uBCF4\"}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page-form-div\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page-form-title\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"Setting-page-form-text\",children:/*#__PURE__*/_jsx(\"p\",{className:\"Setting-page-file\",children:\"\\uC774\\uB984\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"Setting-page-form-button\",children:/*#__PURE__*/_jsx(\"button\",{className:\"Setting-page-form-update\",children:\"\\uC218\\uC815\\uD558\\uAE30\"})})]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",value:userInfo.username||'',onChange:handleChange,readOnly:true// 아이디는 수정 불가능하게 설정\n})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page-form-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"Setting-page-file\",children:\"\\uC774\\uBA54\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"email\",value:userInfo.email||'',onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page-form-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"Setting-page-file\",children:\"\\uC804\\uD654\\uBC88\\uD638\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"tel\",value:userInfo.tel||'',onChange:handleChange})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"Setting-page-form-div\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"Setting-page-file\",children:\"\\uC0DD\\uB144\\uC6D4\\uC77C\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"birthday\",value:userInfo.birthday||'',onChange:handleChange})]})]})]})})]});};export default Setting;","map":{"version":3,"names":["React","useState","useEffect","api","UserNavbar","jsx","_jsx","jsxs","_jsxs","Setting","userInfo","setUserInfo","name","email","tel","birthday","username","password","error","setError","fetchUserInfo","sessionStorage","getItem","response","get","concat","console","log","data","handleChange","e","value","target","prevState","children","className","type","onChange","readOnly"],"sources":["C:/Users/user/YeoGa_FrontEnd/src/page/Setting/Setting.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport api from '../../api'; // 전역 설정된 axios 인스턴스 import\r\nimport UserNavbar from \"../../components/UserNavbar/UserNavbar\";\r\nimport '../Setting/Setting.css';\r\n\r\nconst Setting = () => {\r\n  const [userInfo, setUserInfo] = useState({\r\n    name: '',\r\n    email: '',\r\n    tel: '',\r\n    birthday: '',\r\n    username: '',\r\n    password: ''\r\n  });\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchUserInfo = async () => {\r\n      try {\r\n        const username = sessionStorage.getItem('username');\r\n        if (!username) {\r\n          setError('로그인 정보가 없습니다. 다시 로그인 해주세요.');\r\n          return;\r\n        }\r\n\r\n        // 전역 설정된 api 인스턴스를 사용해 사용자 정보 가져오기\r\n        const response = await api.get(`/my/${username}`);\r\n        console.log(response.data);\r\n\r\n        setUserInfo(response.data);\r\n      } catch (error) {\r\n        console.error('사용자 정보를 가져오는 데 실패했습니다:', error);\r\n        setError('사용자 정보를 가져오는 데 실패했습니다.');\r\n      }\r\n    };\r\n\r\n    fetchUserInfo();\r\n  }, []);\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setUserInfo(prevState => ({\r\n      ...prevState,\r\n      [name]: value\r\n    }));\r\n  };\r\n\r\n  if (error) {\r\n    return <div>{error}</div>;\r\n  }\r\n\r\n  if (!userInfo) {\r\n    return <div>로딩 중...</div>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"Setting-page\">\r\n      <UserNavbar />\r\n      <div className=\"Setting-page-container\">\r\n        <div className=\"Setting-page-container-section\">\r\n          <div className=\"Setting-page-container-User-img\"></div>\r\n          <div className=\"Setting-page-container-User-imgchange\">프로필 변경하기</div>\r\n          <div className=\"Setting-page-User\">사용자 정보</div>\r\n\r\n          <form>\r\n            <div className=\"Setting-page-form-div\">\r\n              <div className='Setting-page-form-title'>\r\n                <div className='Setting-page-form-text'>\r\n                  <p className=\"Setting-page-file\">이름</p>\r\n                </div>\r\n                <div className='Setting-page-form-button'>\r\n                <button className='Setting-page-form-update'>수정하기</button>\r\n                </div>\r\n              </div>\r\n              <input\r\n                type=\"text\"\r\n                name=\"name\"\r\n                value={userInfo.username || ''}\r\n                onChange={handleChange}\r\n                readOnly // 아이디는 수정 불가능하게 설정\r\n              />\r\n            </div>\r\n\r\n            <div className=\"Setting-page-form-div\">\r\n              <p className=\"Setting-page-file\">이메일</p>\r\n              <input\r\n                type=\"text\"\r\n                name=\"email\"\r\n                value={userInfo.email || ''}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n       \r\n          \r\n            \r\n            <div className=\"Setting-page-form-div\">\r\n              <p className=\"Setting-page-file\">전화번호</p>\r\n              <input\r\n                type=\"text\"\r\n                name=\"tel\"\r\n                value={userInfo.tel || ''}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"Setting-page-form-div\">\r\n              <p className=\"Setting-page-file\">생년월일</p>\r\n              <input\r\n                type=\"text\"\r\n                name=\"birthday\"\r\n                value={userInfo.birthday || ''}\r\n                onChange={handleChange}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Setting;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}